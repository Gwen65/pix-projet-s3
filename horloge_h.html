<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8">
	<link rel="shortcut icon" type="image/x-icon" href="assets/favicon.ico" />
	<title>Pix Série - Horloge</title>
	<link rel="stylesheet" href="sitesAnnexes.css">
</head>

<body>

<canvas id="canv"></canvas>


<!-- Localisation -->
<!-- Enlève la première lettre du mot -->
<!-- Enlève les voyelles du mot -->
<!-- Si le mot contient 5 lettres, envoie les 5 lettres à H -->
<!-- Si le mot contient plus de 6 lettres, enlève la dernière lettre du mot et envoie le à H -->

</body>

</html>

<script>
document.ready(function(){
  var c = document.getElementById('canv');
  var $ = c.getContext('2d');
  c.width = 963; c.height = 834; 
  var ms = true;
  var w = 0, h = 0;
  
  var img = new Image();
  img.src = 'assets/images/horloge_Dark2.png';
  
  var set = function(){
    var run, _h, _w, dx, a;
    w = img.width;
    h = img.height;
    $.translate(50, 50);
    // Intensité du Glitch
    a = 25;
    dx = 0;
    _w = w + 50;
    _h = h + 50;
    return (run = function() {
      var inc, i, j;
      $.clearRect(-a, -a, _w, _h);
      inc = ms === true ? 0.5 : 0.18;
      for (j=0; j <= h; i = 0 <= h ? ++j : --j) {
        dx = ~~(inc * (Math.random() - 0.5) * 15);
        $.drawImage(img, 0, i, w, 1, dx, i, w, 1);
      }
      window.requestAnimationFrame(run);
    })();
  };
  img.onload = function(){
    return set();
  };
  c.addEventListener('mouseover', function(){
    return ms = false;
  }, false);
  c.addEventListener('touchmove',function(e){
    e.preventDefault();
    return ms = false;
  }, false);
  c.addEventListener('mouseout', function(){
    return ms = true;
  }, false);
  c.addEventListener('touchend',function(){
    return ms = true;
  }, false);
}());
</script>